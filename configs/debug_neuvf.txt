gpu_num = 1
# Dataset related
expname = debug
datadir = M:\NeRFtx\data_fixpose
expdir  = M:\NeRFtx\exps
test_ids = 4
factor = 8
frm_num = 120
nerf_type = NeUVFModulateT
seed = 2

# Training related
batch_size = 122
itertions_per_frm = 1
lrate = 1e-3
N_iters = 1000000
perturb = 1.

# About base network
N_samples = 64
N_importance = 64
netdepth = 5
netdepth_fine = 5
multires = 7
use_two_models_for_fine = True

## About time and dynamics of base network
time_embed_type = latent
latent_size = 256

## About the uv loss
uv_loss_weight = 0
uv_loss_decay = 15
uv_map_gt_skip_num = 0
uv_map_face_roi = 0.6
uv_batch_size = 10240

# About texture MLP
texture_type = fuse
promote_fuse_texture_step = 30000
use_two_texmodels_for_fine = True
texnetdepth = 6
texnetwidth = 256
tex_multires = 12
multires_views = 3
rgb_activate = sigmoid
## About time and dynamics of texture
use_two_time_for_tex = True
time_embed_type_for_tex = latent
time_multires_window_end_for_tex = 100000  # windowed latent
latent_size_for_tex = 256

# Cycle loss
cycle_loss_weight = 1
cycle_loss_decay = 50
use_two_embed_for_cycle = True
multires_for_cycle = 2
use_two_time_for_tex

# Other losses
alpha_type = add  # alpha_type = multiply
alpha_loss_weight = 0.1
alpha_loss_decay = 20
freeze_uvfield_step = 100000

# tricks
surpress_boundary_thickness = 0
bd_factor = 0.9
texture_map_gradient_multiply = 5

i_img = 10000000000
i_print = 10000000
i_weight = 10000000000
i_testset = 1000000000
i_eval = 1000000000
i_video = 100000000

sparsity_type = entropy
sparsity_loss_weight = 0.1
sparsity_loss_start_step = 50000
smooth_loss_weight = 1

temporal_loss_weight = 1

geometry_map_post = M:\NeRFtx\logs_exp\fixpose3_reproduce\render_only\geometry.png
geometry_map_post_isfull
texture_map_post = M:\NeRFtx\logs_exp\fixpose3_reproduce\render_only\center.png
texture_map_post_isfull

sigma_activate = volsdf
density_type = direct
raw_noise_std = 0

gsmooth_loss_weight = 0
gsmooth_loss_decay = 50
gsmooth_loss_type = o2
explicit_warp_type = kptaffine
canonicaldir = M:\NeRFtx\PRNet\Data\uv-data\canonical_vertices_my.npy
kptidsdir = M:\NeRFtx\PRNet\Data\uv-data\kpts2.npy
uvweightdir = M:\NeRFtx\PRNet\Data\uv-data\face_uv_mask.png
model_affine = True
rbf_perframe = True
kpt_loss_weight = 0.05
best_frame_idx = 2

use_two_time_for_cycle = True
latent_size_for_cycle = 192

uvprepsmooth_loss_weight=0.5