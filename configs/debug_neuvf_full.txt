gpu_num = 3
# Dataset related
seed = 666
expname = debug_full
datadir = M:\NeRFtx\data_xiaoyu2_a
expdir  = M:\NeRFtx\exps
test_ids = 4
factor = 8
bd_factor = 0.85
frm_num = 150
nerf_type = NeUVFModulateT

# Logging related
i_img = 10000000000
i_print = 10000000
i_weight = 10000000000
i_testset = 1000000000
i_eval = 1000000000
i_video = 100000000

# Training related
batch_size = 122
itertions_per_frm = 50
lrate = 1e-3
N_iters = 120000

# About base network
N_samples = 64
N_importance = 64
netdepth = 6
multires = 9
use_two_models_for_fine = True
not_supervise_rgb0 = False

## About time and dynamics of base network
time_embed_type = latent
latent_size = 256

## About the uv loss
uv_loss_weight = 1
uv_loss_decay = 10
uv_map_gt_skip_num = 0
uv_map_face_roi = 0.64
uv_batch_size = 10240

# About texture MLP
texture_type = fuse
promote_fuse_texture_step = 30000
use_two_texmodels_for_fine = True
texnetdepth = 6
texnetwidth = 256
tex_multires = 12
multires_views = 3
rgb_activate = sigmoid
## About time and dynamics of texture
use_two_time_for_tex = True
time_embed_type_for_tex = latent
time_multires_window_end_for_tex = 80000  # windowed latent
latent_size_for_tex = 192
texture_map_gradient_multiply = 10

# Cycle loss
cycle_loss_weight = 1
cycle_loss_decay = 200
use_two_embed_for_cycle = True
multires_for_cycle = 2
use_two_time_for_cycle = True
latent_size_for_cycle = 192

# Other losses
alpha_type = multiply
alpha_loss_weight = 0.05
alpha_loss_decay = 2000
temporal_loss_weight = 0
temporal_loss_start_step = 0  # same to time window

# Towards geometry editing
explicit_warp_type = kptaffine
gsmooth_loss_weight = 0.3
gsmooth_loss_type = o2
kpt_loss_weight = 0.05
uvsmooth_loss_weight = 0.05
rbf_perframe = True

canonicaldir = M:\NeRFtx\PRNet\Data\uv-data\canonical_vertices_my.npy
kptidsdir = M:\NeRFtx\PRNet\Data\uv-data\kpts2.npy
uvweightdir = M:\NeRFtx\PRNet\Data\uv-data\face_uv_mask.png
